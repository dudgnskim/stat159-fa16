1993,24.2,
1994,23.6,
1996,22.7,
1997,22.1,
1998,25.9,
1999,23.2,
2000,24.8,
2001,25.0,
2002,12.0,
2003,25.8,
2004,19.5,
2005,24.4,
2006,26.6,
2007,22.0,
2008,25.2,
2009,22.0,
2010,19.4,
2011,24.7,
2012,17.8,
2013,21.0,
2014,20.9,2015,25.6))
ooz
?data.frame
?list
ooz = data.frame(c(1979,0.1,
1980,1.4,
1981,0.6,
1982,4.8,
1983,7.9,
1984,10.1,
1985,14.2,
1986,11.3,
1987,19.3,
1988,10.0,
1989,18.7,
1990,19.2,
1991,18.8,
1992,22.3,
1993,24.2,
1994,23.6,
1996,22.7,
1997,22.1,
1998,25.9,
1999,23.2,
2000,24.8,
2001,25.0,
2002,12.0,
2003,25.8,
2004,19.5,
2005,24.4,
2006,26.6,
2007,22.0,
2008,25.2,
2009,22.0,
2010,19.4,
2011,24.7,
2012,17.8,
2013,21.0,
2014,20.9,2015,25.6), numrows=36, byrow=T)
ooz
??byrow
?matrix
ooz = matrix(c(1979,0.1,
1980,1.4,
1981,0.6,
1982,4.8,
1983,7.9,
1984,10.1,
1985,14.2,
1986,11.3,
1987,19.3,
1988,10.0,
1989,18.7,
1990,19.2,
1991,18.8,
1992,22.3,
1993,24.2,
1994,23.6,
1996,22.7,
1997,22.1,
1998,25.9,
1999,23.2,
2000,24.8,
2001,25.0,
2002,12.0,
2003,25.8,
2004,19.5,
2005,24.4,
2006,26.6,
2007,22.0,
2008,25.2,
2009,22.0,
2010,19.4,
2011,24.7,
2012,17.8,
2013,21.0,
2014,20.9,2015,25.6), nrow=36, byrow=T)
ooz
plot(ooz)
lines(ooz)
x = c(1,2,3)
x
x <- c(1,2,3)
x
y <- c(1,2,3)
y
x
x == y
x <-<- y
set.seed(2016)
ex <- runif(96, 0, 10)
ex
append
append?
)
?append
append(ex, c(10.1, 10.2, 11.5, 11.5))
?hist
hist(ex)
hist(ex, main="average exercise (hours per week)")
hist(ex, main="average exercise (hours per week)", xlim=range(0:19))
summary(ex)
es
ex
append(ex, c(10.1, 10.2, 11.5, 11.5))
ex <- append(ex, c(10.1, 10.2, 11.5, 11.5))
hist(ex, main="average exercise (hours per week)", xlim=range(0:19))
# exercise.csv #
set.seed(2016)
ex <- runif(96, 0, 10)
ex <- append(ex, c(10.1, 10.2, 11.5, 11.5))
hist(ex, main="average exercise (hours per week)", xlim=range(0:19))
hist(ex, main="average exercise (hours per week)", xlim=range(19))
hist(ex, main="average exercise (hours per week)", xlim=range(0:19))
hist(ex, main="average exercise (hours per week)", xlim=range(0:19), breaks=19)
hist(ex, main="average exercise (hours per week)", xlim=range(0:19), breaks=0:19)
hist(ex, main="average exercise (hours per week)", xlim=range(0:19), breaks=19)
hist(ex, main="average exercise (hours per week)", xlim=range(0:19), breaks=10)
install.packages('DataComputing')
install.packages('DataComputing')
install.packages('DataComputing')
## In this script you'll find the Principal Components of a dataset and visualize it
data(iris)
data(iris)
head(iris, 3)
require(devtools)
install.packages('devtools')
install.packages('ggbiplot')
require(devtools)
setwd("/Applications/School/Spring 2016/STAT 151A/egg2.wustl.edu/roadmap/data/byFileType/peaks/consolidated/narrowPeak"/)
tgz <- gzfile("E001-H3K27me3.narrowPeak", open = 'r')
tData <- readLines(tgz)
setwd("/Applications/School/Spring 2016/STAT 151A/egg2.wustl.edu/roadmap/data/byFileType/peaks/consolidated/narrowPeak"/)
tgz <- gzfile("E001-H3K27me3.narrowPeak.gz", open = 'r')
tData <- readLines(tgz)
setwd("/Applications/School/Spring 2016/STAT 151A/egg2.wustl.edu/roadmap/data/byFileType/peaks/consolidated/narrowPeak"/)
tgz <- gzfile("E001-H3K27me3.narrowPeak.gz", header = T)
tData <- read.table(tgz)
setwd("/Applications/School/Spring 2016/STAT 151A/egg2.wustl.edu/roadmap/data/byFileType/peaks/consolidated/narrowPeak"/)
tgz <- gzfile("E001-H3K27me3.narrowPeak.gz")
tData <- read.table(tgz)
wd <- "/Applications/School/Spring 2016/STAT 151A/egg2.wustl.edu/roadmap/data/byFileType/peaks/consolidated/narrowPeak"
setwd(wd/)
tgz <- gzfile("E001-H3K27me3.narrowPeak.gz", wd)
tData <- read.table(tgz)
?gzfile
install.pacak
install.packages('GenomicForestExamples')
require('GenomicForestExamples')
require(RMySQL)
install.packages('RMySQL')
# install.packages("RMySQL", dependencies=TRUE)
library(DBI)
# Load the RMySQL package
library(RMySQL)
# Initialize a driver for a MySQL database
drv = dbDriver("MySQL")
# Make a connection to the database
con = dbConnect(drv, user = "s133",
dbname = "lahman",
password = "s133",
host = "radagast.berkeley.edu")
# List all of the tables in the database:
dbListTables(con)
dbListFields(con, "Salaries")
# The expected output:
# [1] "yearID"   "teamID"   "lgID"     "playerID" "salary"
query = "SELECT COUNT(*) FROM Salaries;"
numRecords = dbGetQuery(con, statement = query)
numRecords
query = "SELECT teamID, lgID, yearID, SUM(salary) FROM Salaries GROUP BY teamID, lgID, yearID;"
payroll = dbGetQuery(con, query)
colnames(payroll) = c("team", "league", "year", "payroll")
head(payroll)
query = "SELECT S.teamID, S.lgID, S.yearID, SUM(S.salary), P.round
FROM Salaries AS S
LEFT OUTER JOIN SeriesPost AS P
ON S.teamID = P.teamIDwinner
GROUP BY S.teamID, S.lgID, P.yearID
HAVING P.round = 'WS';"
payroll = dbGetQuery(con, query)
colnames(payroll) = c("team", "league", "year", "payroll", "round")
head(payroll)
q = "SELECT yearID, round, teamIDwinner, lgIDwinner FROM SeriesPost GROUP BY yearID, round, teamIDwinner, lgIDwinner;"
ddf = dbGetQuery(con,q)
q1 = "SELECT yearID, round, teamIDwinner, lgIDwinner FROM SeriesPost GROUP BY yearID, round, teamIDwinner, lgIDwinner HAVING round = 'WS';"
dddf = dbGetQuery(con,q1)
query = "SELECT birthCountry, birthYear FROM Master
WHERE NOT birthCountry = 'USA'"
BC = dbGetQuery(con, query)
head(BC)
#  birthCountry birthYear
#1         D.R.      1985
#2    Venezuela      1974
#3         Cuba      1987
#4         D.R.      1985
#5         D.R.      1984
#6         D.R.      1977
players = debutDF$playerID[ which(debutAge == 16 |
debutAge== 42)]
players
playersQ = paste("'", players, "'", sep = "")
playersComma = paste(playersQ, collapse = ", ")
playersComma
query = paste("SELECT * FROM Master WHERE playerID IN (",
playersComma, ");", paste = "")
query
youngOld = dbGetQuery(con, query)
require(sqldf)
library(sqldf)
require(sqldf)
library(sqldf)
dte = seq(as.Date("2011-05-01"), as.Date("2011-05-20"), by=1)
persid = c(1013,1011,1014,1015,1023,1028,1012,1018,1019,1020,1027,
1016,1022,1017,1021,1024,1030,1025,1026,1029)
v1 = round(rnorm(20), 2)
v2 = round(rnorm(20), 2)
first=c("David","Sara","Jon","Jennifer","Ken","Ralph","Chris","David",
"David","Joe","Melanie","Debbie","Jessica","Ally","Amy","Ralph",
"Sara","Jane","John","Lance")
last=c("Smith","Jones","Alberts","Hudson","Jennings","Masterson","Browm",
"Felt","Spade","Montana","Keith","Hardson","Karson","Roberts","Smith",
"Jennings","Denver","Hudson","Reynolds","Darder")
stat = c("CA","IA","NC","FL","GA","OH","NY","CA","TX","TX","CA","CA","AZ",
"CO","OK","MI","WI","SC","VT","IL")
df1 <- data.frame(id=c(seq(1,20)), date=c(dte), var1=c(v1),
var2=c(v2), personid=c(persid))
df2 <- data.frame(id=c(sort(persid)), firstname=c(first),
lastname=c(last), state=c(stat))
df1
df2
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'")
library(sqldf)
dte = seq(as.Date("2011-05-01"), as.Date("2011-05-20"), by=1)
persid = c(1013,1011,1014,1015,1023,1028,1012,1018,1019,1020,1027,
1016,1022,1017,1021,1024,1030,1025,1026,1029)
v1 = round(rnorm(20), 2)
v2 = round(rnorm(20), 2)
first=c("David","Sara","Jon","Jennifer","Ken","Ralph","Chris","David",
"David","Joe","Melanie","Debbie","Jessica","Ally","Amy","Ralph",
"Sara","Jane","John","Lance")
last=c("Smith","Jones","Alberts","Hudson","Jennings","Masterson","Browm",
"Felt","Spade","Montana","Keith","Hardson","Karson","Roberts","Smith",
"Jennings","Denver","Hudson","Reynolds","Darder")
stat = c("CA","IA","NC","FL","GA","OH","NY","CA","TX","TX","CA","CA","AZ",
"CO","OK","MI","WI","SC","VT","IL")
df1 <- data.frame(id=c(seq(1,20)), date=c(dte), var1=c(v1),
var2=c(v2), personid=c(persid))
df2 <- data.frame(id=c(sort(persid)), firstname=c(first),
lastname=c(last), state=c(stat))
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'")
sqldf("SELECT df2.firstname, df2.lastname, df1.var1, df2.state FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df2.state = 'TX'")
sqldf("SELECT df2.state, COUNT(df1.var1) FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df1.var1 > 0
GROUP BY df2.state")
detach("package:sqldf", unload=TRUE)
library("sqldf", lib.loc="/Library/Frameworks/R.framework/Versions/3.2/Resources/library")
library(sqldf)
dte = seq(as.Date("2011-05-01"), as.Date("2011-05-20"), by=1)
persid = c(1013,1011,1014,1015,1023,1028,1012,1018,1019,1020,1027,
1016,1022,1017,1021,1024,1030,1025,1026,1029)
v1 = round(rnorm(20), 2)
v2 = round(rnorm(20), 2)
first=c("David","Sara","Jon","Jennifer","Ken","Ralph","Chris","David",
"David","Joe","Melanie","Debbie","Jessica","Ally","Amy","Ralph",
"Sara","Jane","John","Lance")
last=c("Smith","Jones","Alberts","Hudson","Jennings","Masterson","Browm",
"Felt","Spade","Montana","Keith","Hardson","Karson","Roberts","Smith",
"Jennings","Denver","Hudson","Reynolds","Darder")
stat = c("CA","IA","NC","FL","GA","OH","NY","CA","TX","TX","CA","CA","AZ",
"CO","OK","MI","WI","SC","VT","IL")
df1 <- data.frame(id=c(seq(1,20)), date=c(dte), var1=c(v1),
var2=c(v2), personid=c(persid))
df2 <- data.frame(id=c(sort(persid)), firstname=c(first),
lastname=c(last), state=c(stat))
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'")
# Use the titanic data set
data(titanic3, package=”PASWR”)
colnames(titanic3)
head(titanic3)
install.packages('tcltk')
?sqldf
dbConnect(dbDriver("MySQL"), user="mysqluser", password="mypassword", dbname="mydb", host="127.0.0.1", port=3307)
src_mysql(
dbname = "mydb", user = "mysqluser", password = "mypassword",
host = "127.0.0.1", port=3307)
install.packages('tcltk2')
library(tcltk)
library(tcltk2)
install.packages('XQuartz')
options(sqldf.driver = "SQLite") # as per FAQ #7 force SQLite
options(gsubfn.engine = "R") # as per FAQ #5 use R code rather than tcltk
library(RMySQL)
library(sqldf)
dte = seq(as.Date("2011-05-01"), as.Date("2011-05-20"), by=1)
persid = c(1013,1011,1014,1015,1023,1028,1012,1018,1019,1020,1027,
1016,1022,1017,1021,1024,1030,1025,1026,1029)
v1 = round(rnorm(20), 2)
v2 = round(rnorm(20), 2)
first=c("David","Sara","Jon","Jennifer","Ken","Ralph","Chris","David",
"David","Joe","Melanie","Debbie","Jessica","Ally","Amy","Ralph",
"Sara","Jane","John","Lance")
last=c("Smith","Jones","Alberts","Hudson","Jennings","Masterson","Browm",
"Felt","Spade","Montana","Keith","Hardson","Karson","Roberts","Smith",
"Jennings","Denver","Hudson","Reynolds","Darder")
stat = c("CA","IA","NC","FL","GA","OH","NY","CA","TX","TX","CA","CA","AZ",
"CO","OK","MI","WI","SC","VT","IL")
df1 <- data.frame(id=c(seq(1,20)), date=c(dte), var1=c(v1),
var2=c(v2), personid=c(persid))
df2 <- data.frame(id=c(sort(persid)), firstname=c(first),
lastname=c(last), state=c(stat))
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'", )
sqldf("SELECT df2.firstname, df2.lastname, df1.var1, df2.state FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df2.state = 'TX'")
sqldf("SELECT df2.state, COUNT(df1.var1) FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df1.var1 > 0
GROUP BY df2.state")
sqldf("SELECT df2.firstname, df2.lastname, df1.var1, df2.state FROM df1
INNER JOIN df2 ON df1.personid = df2.id
WHERE df1.date BETWEEN '2011-05-03' AND '2011-05-11'")
df1
df2
options(sqldf.driver = "SQLite") # as per FAQ #7 force SQLite
options(gsubfn.engine = "R") # as per FAQ #5 use R code rather than tcltk
library(RMySQL)
library(sqldf)
#Assumptions
#1. Table is provided
#2. The 'year' column only consists of 2014 and 2015
#3. There are pairs of Provider IDs on the 'Provider ID' column because there should exist data point for each year.
prev <- #table
d
?as.data.frame
df1
df1 <- as.data.frame(df1, colnames=c('a','b','c','d','e'))
df1
?colnames
sqldf('select id={1,2,3,4} from df2')
sqldf('select id from df2 where id = {1,2,3,4}')
sqldf('select id from df2 where id = (1,2,3,4)')
sqldf('select id from df2 where id = c(1,2,3,4)')
sqldf('select id from df2 where id = [1,2,3,4]')
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'", )
sqldf("SELECT COUNT(*) FROM df2 WHERE state = 'CA'", )[1,1]
sqldf("SELECT df2.firstname, df2.lastname, df1.var1, df2.state FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df2.state = 'TX'")
sqldf("SELECT df2.firstname, df2.lastname, df1.var1, df2.state FROM df1
INNER JOIN df2 ON df1.personid = df2.id WHERE df2.state = 'TX'")$firstname
n.df<-data.frame(id=sqldf(select id from df2)))
n.df<-data.frame(id=sqldf(select id from df2)$id))
sqldf(select id from df2)
n.df<-data.frame(id=sqldf('select id from df2')))
n.df<-data.frame(id=sqldf('select id from df2'))
n.df
n.df<-data.frame(id=sqldf('select id from df2 where id=1030'))
n.df
n.df<-data.frame(id=sqldf('select id from df2'))
df1
var_ration <- sqldf('select var1 from df1') / sqldf('select var2 from df1')
var_ration
?range
install.packages("ILSR")
install.packages("ISLR")
require("Auto")
require(ISLR)
auto <- data(Auto)
attach(Auto)
auto
Auto
Auto <- na.omit(Auto)
head(Auto)
class(Auto$year)
summary(Auto$year)
cs <- data("Carseats")
cs
attach(Carseats)
cs <- Carseats
cs
head(cs)
cs.lm.fit <- lm(Sales ~ Price, Urban, US)
cs.lm.fit
cs.lm.fit <- lm(Sales ~ Price+Urban+US)
cs.lm.fit <- lm(Sales ~ Price+Urban+US, data=cs)
cs.lm.fit
summary(cs.lm.fit)
cs.glm <- glm(Sales ~ Urban+US, data=cs, family=binary)
cs.glm <- glm(Sales ~ Urban+US, data=cs, family=Binary)
?glm
cs.glm <- glm.fit(Sales ~ Urban+US, data=cs, family=binary())
cs.glm <- glm(Sales ~ Urban+US, data=cs, family = binary)
cs.glm <- glm(Sales ~ Urban+US, data=cs, family = binomial)
summary(cs$Urban)
summary(cs$US)
cs.glm <- glm(Sales ~ Urban, data=cs, family = binomial)
glm(Sales ~ Price+Urban+US, data=cs)
?confint
### Import Advertising.csv and generate regression.RData, scatterplot-tv-sales.png
setwd("~/coding/stat159/stat159-fa16/stat159-fall2016-hw02")
ad <- read.csv('data/Advertising.csv', header=TRUE)
tv <- ad$TV
sales<- ad$Sales
# Save regression.RData
reg <- lm(sales ~ tv)
reg_sum <- summary(reg)
save(reg_sum, file='data/regression.RData')
#Generate scatterplot-tv-sales
png('images/scatterplot-tv-sales.png')
plot(tv, sales, pch=19, cex=1, col='tomato', main='Regression Analysis of Sales on TV')
abline(reg)
dev.off()
pdf('images/scatterplot-tv-sales.pdf')
plot(tv, sales, pch=19, cex=1, col='tomato', main='Regression Analysis of Sales on TV')
abline(reg)
dev.off()
### Import Advertising.csv data to create eda-output.txt, histograms
#Import Advertising.csv
setwd("~/coding/stat159/stat159-fa16/stat159-fall2016-hw02")
ad <- read.csv('data/Advertising.csv', header=TRUE)
tv <- ad$TV
sales <- ad$Sales
sink("data/eda-output.txt")
cat("Summary statistics of tv: \n")
cat("Minimum: ", summary(tv)[1], "\n", append=TRUE)
cat("1st Qu.: ", summary(tv)[2], "\n", append=TRUE)
cat("Median: ", summary(tv)[3], "\n", append=TRUE)
cat("Mean: ", summary(tv)[4], "\n", append=TRUE)
cat("3rd Qu.: ", summary(tv)[5], "\n", append=TRUE)
cat("Maximum: ", summary(tv)[6], "\n\n", append=TRUE)
cat("Summary statistics of sales: \n")
cat("Minimum: ", summary(sales)[1], "\n", append=TRUE)
cat("1st Qu.: ", summary(sales)[2], "\n", append=TRUE)
cat("Median: ", summary(sales)[3], "\n", append=TRUE)
cat("Mean: ", summary(sales)[4], "\n", append=TRUE)
cat("3rd Qu.: ", summary(sales)[5], "\n", append=TRUE)
cat("Maximum: ", summary(sales)[6], "\n", append=TRUE)
sink()
#Generate histogram of tv
png("images/histogram-tv.png")
hist(tv)
dev.off()
pdf("images/histogram-tv.pdf")
hist(tv)
dev.off()
#Generate histogram of sales
png("images/histogram-sales.png")
hist(sales)
dev.off()
pdf("images/histogram-sales.pdf")
hist(sales)
dev.off()
rqi
rqi <- data.frame(Quantity=vector(), Value=vector(), stringsAsFactors = FALSE)
rqi[1,] <- c('RSE', reg_sum$sigma)
rqi[2,] <- c('$R2$', reg_sum$r.squared)
rqi[3,] <- c('F-stat', reg_sum$fstatistic[1])
rqi_tex <- xtable(rqi)
rqi
summary(rgi)
summary(rqi)
rqi$Value <- as.numeric(rqi$Value)
summary(rqi)
?digit
??digit
rqi <- data.frame(Quantity=vector(), Value=vector(), stringsAsFactors = FALSE)
rqi[1,] <- c('RSE', reg_sum$sigma)
rqi[2,] <- c('R2', reg_sum$r.squared)
rqi[3,] <- c('F-stat', reg_sum$fstatistic[1])
rqi$Value <- round(as.numeric(rqi$Value), digits = 2)
rqi
library(xtable)
#setwd('~/coding/stat159/stat159-fa16/stat159-fall2016-hw02')
rqi <- data.frame(Quantity=vector(), Value=vector(), stringsAsFactors = FALSE)
rqi[1,] <- c('RSE', reg_sum$sigma)
rqi[2,] <- c('R2', reg_sum$r.squared)
rqi[3,] <- c('F-stat', reg_sum$fstatistic[1])
rqi$Value <- round(as.numeric(rqi$Value), digits = 2)
rqi_tex <- xtable(rqi)
rqi_tex
### Import Advertising.csv and generate regression.RData, scatterplot-tv-sales.png
setwd("~/coding/stat159/stat159-fa16/stat159-fall2016-hw02")
ad <- read.csv('data/Advertising.csv', header=TRUE)
tv <- ad$TV
sales<- ad$Sales
# Save regression.RData
reg <- lm(sales ~ tv)
reg_sum <- summary(reg)
save(reg_sum, file='data/regression.RData')
plot(tv, sales, pch=19, cex=2, col='lavender', main='Regression Analysis of Sales on TV')
abline(reg)
plot(tv, sales, pch=19, cex=1, col='lavender', main='Regression Analysis of Sales on TV')
abline(reg)
